<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE log4j:configuration PUBLIC "-//APACHE//DTD LOG4J 1.2//EN" "log4j.dtd">
<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">

            <appender name="SMTP" class="org.apache.log4j.net.SMTPAppender">
				<param name="SMTPHost" value="host" />
				<param name="From" value="no-reply@cb.com" />
				<param name="To" value="cb@cb.com" />
				<param name="Subject" value="Subject" />
				<layout class="org.apache.log4j.EnhancedPatternLayout">
					<param name="ConversionPattern" value="%d{yyyy-MM-dd HH:mm:ss} %5p: %c{1} - %m%n%throwable{1}" />
				</layout>
				<filter class="org.apache.log4j.varia.LevelMatchFilter">
					<param name="LevelToMatch" value="FATAL" />
					<param name="AcceptOnMatch" value="true" />
				</filter>
				<filter class="org.apache.log4j.varia.DenyAllFilter" />
			</appender>
            
            <!-- ASYNC Appender for asynchronous logging -->
            <appender name="ASYNC" class="org.apache.log4j.AsyncAppender">
				<param name="Blocking" value="false"/>                
				<appender-ref ref="flume" />
            </appender>            
            <!-- Flume syslog Appender -->
            <appender name="sysLog" class="org.apache.log4j.net.SyslogAppender">
				<param name="threshold" value="debug"/>
				<param name="syslogHost" value="host:44514"/>
				<param name="facility" value="USER"/>								
            </appender>
            <!-- File Appender -->
            <!-- <appender name="file" class="org.apache.log4j.RollingFileAppender">
                <param name="file" value="/var/log/flumeAppender.log" />
                <param name="MaxFileSize" value="50MB" />
                <param name="MaxBackupIndex" value="5" />use for rolling file appender/not implemented with daily
                <layout class="org.apache.log4j.EnhancedPatternLayout">
				<param name="ConversionPattern" value="%d{yyyy-MM-dd HH:mm:ss} %5p: %c{1} - %m%n%throwable" />
                </layout>
            </appender> -->
            <!-- Console Appender -->
            <appender name="console" class="org.apache.log4j.ConsoleAppender">
                <param name="Target" value="System.out" />
                <layout class="org.apache.log4j.EnhancedPatternLayout">
					<param name="ConversionPattern" value="%d{yyyy-MM-dd HH:mm:ss} %5p: %c - %m%n%throwable{1}" />
                </layout>
            </appender>
            
            <!-- 3rdparty Loggers -->
            <logger name="org.springframework">
				<level value="warn" />
            </logger>

            <!-- Root Logger -->
            <root>
				<level value="debug" />
				<appender-ref ref="console" />
				<appender-ref ref="ASYNC" />
<!-- 				<appender-ref ref="sysLog" /> -->
            </root>            
</log4j:configuration>